# IGSN2
A Local-to-Global Attention Transformer and interaction for Code Search.
## Get started
### Prerequisites
This code is written in python 3. You will need to install the required packages in order to run the code.
We recommend to use conda virtual environment for the package management. Install the package requirements with ```pip install -r requirements.txt```.
### Preprocess
1. Download the raw data from [CodeSearchNet](https://github.com/github/CodeSearchNet). 
2. For Java Graph Construction, please run the scripts at graph-based-search/parsers/sourcecode/java/build_java_graph.py
3. For Python Graph Construction, please run the scripts at graph-based-search/parsers/sourcecode/java/build_python_graph.py
We provide the partial data in this repo to help run our model quickly. The whole processed data will be public.
### Run the model
1. Train Java model ```python main.py --config config/search_train_java.yml```
2. Train Python model ```python main.py --config config/search_train_puython.yml```

We also provide the queried results generated by our model based on the 99 queries from CodeSearchNet in graph-based-search/answers.
